<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpeedCameraPi: YourOwn</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="speed_64.ico"/></td>
  <td id="projectalign">
   <div id="projectname">SpeedCameraPi<span id="projectnumber">&#160;1.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_Docs_markdown_YourOwn.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">YourOwn </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md145">Introduction</a></li>
<li class="level1"><a href="#autotoc_md146">Add new Panel</a><ul><li class="level2"><a href="#autotoc_md147">Define a new PanelID Enum</a></li>
<li class="level2"><a href="#autotoc_md148">Create a new Controller class</a></li>
<li class="level2"><a href="#autotoc_md151">Create a new Panel class</a></li>
<li class="level2"><a href="#autotoc_md156">Define object in MainFrame</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md157">Custom Event</a><ul><li class="level2"><a href="#autotoc_md158">DataEvent</a></li>
<li class="level2"><a href="#autotoc_md159">EmptyEvent</a></li>
<li class="level2"><a href="#autotoc_md160">Bind Event</a></li>
<li class="level2"><a href="#autotoc_md161">Submit Event</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md162">Thread</a><ul><li class="level2"><a href="#autotoc_md163">Define unique ThreadID</a></li>
<li class="level2"><a href="#autotoc_md164">Create a new Thread class</a></li>
<li class="level2"><a href="#autotoc_md165">Add method to ThreadController</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md166">Task for ThreadPool</a><ul><li class="level2"><a href="#autotoc_md167">Define unique TaskType</a></li>
<li class="level2"><a href="#autotoc_md168">Create a new Task class</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md145"></a>
Introduction</h1>
<p >This section will guide you through the process of developing the application. It is assumed that you have already set up the development environment. If not, please refer to the previous section. This section will cover the following topics:</p>
<ul>
<li><b>Adding a new Panel</b> - This section will guide you through the process of adding a new panel to the application.</li>
<li><b>Custom Event</b> - This section will guide you through the process of defining, triggering, and handling custom events.</li>
<li><b>Defining Process Threads</b> - This section will guide you through the process of defining process threads.</li>
<li><b>Creating Tasks</b> - This section will guide you through the process of creating tasks for <a class="el" href="classThreadPool.html" title="Class Implementation for Background Thread Pool.">ThreadPool</a>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md146"></a>
Add new Panel</h1>
<p >This chapter will provide description on how to add new panel to the application. To add a new Panel to the Application, following steps are required:</p><ul>
<li>Define a new PanelID Enum</li>
<li>Create a mew Controller class</li>
<li>Create a new Panel class</li>
<li>Define object in MainFrame</li>
</ul>
<h2><a class="anchor" id="autotoc_md147"></a>
Define a new PanelID Enum</h2>
<p >The first step is to register a unique enum for the Panel. This enum will be used to identify the Panel in the application. To add a new Panel enum, modify the PanelID enum in the include/Model/Enum.hpp file. Following example will provide a simple example of a PanelID enum:</p>
<div class="fragment"><div class="line"><span class="keyword">enum</span> PanelID {</div>
<div class="line">    <span class="comment">// ... other enum</span></div>
<div class="line">    PANEL_INFO,</div>
<div class="line">    PANEL_MY_PANEL, <span class="comment">// Add new PanelID enum here</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md148"></a>
Create a new Controller class</h2>
<h3><a class="anchor" id="autotoc_md149"></a>
Define a new Controller class</h3>
<p >To create a new controller class, you first need to decide either the Panel will require a touch input or not. If touch input is required you can create a custom controller class that extends the <a class="el" href="classBaseControllerWithTouch.html" title="Base Class for all Controller with Touch methods, used with BasePanelWithTouch.">BaseControllerWithTouch</a> class. Otherwise you can create a custom controller class that extends the <a class="el" href="classBaseController.html" title="Base Class for all Controller, used with BasePanel.">BaseController</a> class. Following example will provide a simple example of a Controller class that extends the <a class="el" href="classBaseControllerWithTouch.html" title="Base Class for all Controller with Touch methods, used with BasePanelWithTouch.">BaseControllerWithTouch</a> class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyController : <span class="keyword">public</span> <a class="code hl_class" href="classBaseControllerWithTouch.html">BaseControllerWithTouch</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    MyController(ResourcePtr shared);</div>
<div class="line">    ~MyController();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> PanelID currentPanelID = PanelID::    PANEL_MY_PANEL, <span class="comment">// Add new PanelID enum here</span></div>
<div class="line">;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classBaseController.html#a12987e25c863c7a1edd6f9f90ba8a20b">throwIfAnyThreadIsRunning</a>() <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classBaseController.html#a3168fa9468c54515630adb85ac4cdf02">killAllThreads</a>(wxEvtHandler *parent) <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordtype">void</span> leftDownHandler(wxEvtHandler *parent, cv::Point point) <span class="keyword">override</span>;</div>
<div class="line">    <span class="keywordtype">void</span> leftMoveHandler(wxEvtHandler *parent, cv::Point point) <span class="keyword">override</span>;</div>
<div class="line">    <span class="keywordtype">void</span> leftUpHandler(wxEvtHandler *parent, cv::Point point) <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclassBaseControllerWithTouch_html"><div class="ttname"><a href="classBaseControllerWithTouch.html">BaseControllerWithTouch</a></div><div class="ttdoc">Base Class for all Controller with Touch methods, used with BasePanelWithTouch.</div><div class="ttdef"><b>Definition:</b> BaseController.hpp:81</div></div>
<div class="ttc" id="aclassBaseController_html_a12987e25c863c7a1edd6f9f90ba8a20b"><div class="ttname"><a href="classBaseController.html#a12987e25c863c7a1edd6f9f90ba8a20b">BaseController::throwIfAnyThreadIsRunning</a></div><div class="ttdeci">virtual void throwIfAnyThreadIsRunning()=0</div><div class="ttdoc">check if any thread is running, if yes, throw an exception</div></div>
<div class="ttc" id="aclassBaseController_html_a3168fa9468c54515630adb85ac4cdf02"><div class="ttname"><a href="classBaseController.html#a3168fa9468c54515630adb85ac4cdf02">BaseController::killAllThreads</a></div><div class="ttdeci">virtual void killAllThreads(wxEvtHandler *parent)=0</div><div class="ttdoc">kill all threads by ThreadController. Used when navigating between panels</div></div>
</div><!-- fragment --><p >Make sure that you implemented the pure virtual functions from the <a class="el" href="classBaseControllerWithTouch.html" title="Base Class for all Controller with Touch methods, used with BasePanelWithTouch.">BaseControllerWithTouch</a> class. The pure virtual functions are:</p><ul>
<li>void throwIfAnyThreadIsRunning() override;</li>
<li>void killAllThreads(wxEvtHandler *parent) override;</li>
<li>void leftDownHandler(wxEvtHandler *parent, cv::Point point) override;</li>
<li>void leftMoveHandler(wxEvtHandler *parent, cv::Point point) override;</li>
<li>void leftUpHandler(wxEvtHandler *parent, cv::Point point) override;</li>
</ul>
<p >See the source code for <a class="el" href="classLaneCalibrationController.html" title="Controller for LaneCalibrationPanel.">LaneCalibrationController</a> for example.</p>
<p >To make the code more readable, it is adviced to define the controller shared pointer to a shorter name. Following example will provide a simple example of defining a shorter name for the Controller shared pointer:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define MCPtr std::shared_ptr&lt;MyController&gt;</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md150"></a>
Add method to ControllerFactory</h3>
<p >The ControllerFactory is used to connect the Controller with the Model component. Following example can be used:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>ControllerFactory {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    ControllerFactory(wxWindow *parent);</div>
<div class="line">    ~ControllerFactory();</div>
<div class="line"> </div>
<div class="line">    ResourcePtr getSharedModel();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line">    MyPtr createMyController();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    ResourcePtr shared;</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line">MyPtr ControllerFactory::createMyController() {</div>
<div class="line">    <span class="keywordflow">return</span> std::make_shared&lt;MyController&gt;(shared);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md151"></a>
Create a new Panel class</h2>
<h3><a class="anchor" id="autotoc_md152"></a>
Define a new Panel class</h3>
<p >To create a new Panel class, you need to create a new class that extends either the <a class="el" href="classBasePanel.html" title="Base class for all panels.">BasePanel</a> or the <a class="el" href="classBasePanelWithTouch.html" title="Base class for all panels with touch.">BasePanelWithTouch</a> class. The <a class="el" href="classBasePanel.html" title="Base class for all panels.">BasePanel</a> class has already implemented the basic functionality of a Panel, while the <a class="el" href="classBasePanelWithTouch.html" title="Base class for all panels with touch.">BasePanelWithTouch</a> class has already implemented the basic functionality of a Panel with touch support. The <a class="el" href="classBasePanelWithTouch.html" title="Base class for all panels with touch.">BasePanelWithTouch</a> class is recommended to be used if the Panel will be used in a touch screen device. Alternatively you can also create a whole new class that extends the wxPanel class from wxWidgets. Following example will provide a simple example of a Panel class that extends the <a class="el" href="classBasePanelWithTouch.html" title="Base class for all panels with touch.">BasePanelWithTouch</a> class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyPanel : <span class="keyword">public</span> <a class="code hl_class" href="classBasePanelWithTouch.html">BasePanelWithTouch</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    MyPanel(wxWindow *parent, wxWindowID <span class="keywordtype">id</span>, MyPtr controller);</div>
<div class="line">    ~MyPanel();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">const</span> PanelID panel_id = PANEL_MY_PANEL;</div>
<div class="line"> </div>
<div class="line">    MyPtr controller;</div>
<div class="line"> </div>
<div class="line">    DECLARE_EVENT_TABLE()</div>
<div class="line">};</div>
<div class="ttc" id="aclassBasePanelWithTouch_html"><div class="ttname"><a href="classBasePanelWithTouch.html">BasePanelWithTouch</a></div><div class="ttdoc">Base class for all panels with touch.</div><div class="ttdef"><b>Definition:</b> BasePanel.hpp:68</div></div>
</div><!-- fragment --><p >Make sure that if you are using the <a class="el" href="classBasePanelWithTouch.html" title="Base class for all panels with touch.">BasePanelWithTouch</a> class, you are also using the <a class="el" href="classBaseControllerWithTouch.html" title="Base Class for all Controller with Touch methods, used with BasePanelWithTouch.">BaseControllerWithTouch</a> class. Otherwise you will get a compilation error.</p>
<h3><a class="anchor" id="autotoc_md153"></a>
Create ButtonPanel</h3>
<p >Now create a ButtonPanel for the Panel. The ButtonPanel is a panel that contains buttons to perform certain actions. To create a ButtonPanel, you need to create a new class that extends the <a class="el" href="classBaseButtonPanel.html" title="Base class for button panel.">BaseButtonPanel</a> class. Following example will provide a simple example of a ButtonPanel class that extends the <a class="el" href="classBaseButtonPanel.html" title="Base class for button panel.">BaseButtonPanel</a> class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>CustomButtonPanel : <span class="keyword">public</span> <a class="code hl_class" href="classBaseButtonPanel.html">BaseButtonPanel</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    CustomButtonPanel(wxWindow *parent, wxWindowID <span class="keywordtype">id</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> update(<span class="keyword">const</span> AppState &amp;state) <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// define all buttons here</span></div>
<div class="line"> </div>
<div class="line">    DECLARE_EVENT_TABLE();</div>
<div class="line">};</div>
<div class="ttc" id="aclassBaseButtonPanel_html"><div class="ttname"><a href="classBaseButtonPanel.html">BaseButtonPanel</a></div><div class="ttdoc">Base class for button panel.</div><div class="ttdef"><b>Definition:</b> BasePanel.hpp:17</div></div>
</div><!-- fragment --><p> Make sure that the update() method is implemented. The update() method will be called by the Panel to update the state of the buttons.</p>
<h3><a class="anchor" id="autotoc_md154"></a>
Implement the Panel class</h3>
<p >Now that you have created the ButtonPanel, you can now implement the Panel class. Following example can be used as a reference to implement the Panel class:</p>
<div class="fragment"><div class="line">MyPanel::MyPanel(wxWindow *parent, wxWindowID <span class="keywordtype">id</span>,</div>
<div class="line">                                           MyPtr controller)</div>
<div class="line">    : <a class="code hl_class" href="classBasePanelWithTouch.html">BasePanelWithTouch</a>(parent, id, controller), controller(controller) {</div>
<div class="line"> </div>
<div class="line">    button_panel =</div>
<div class="line">        <span class="keyword">new</span> CustomButtonPanel(<span class="keyword">this</span>, wxID_ANY);</div>
<div class="line">    title_panel = <span class="keyword">new</span> <a class="code hl_class" href="classTitlePanel.html">TitlePanel</a>(<span class="keyword">this</span>, panel_id);</div>
<div class="line"> </div>
<div class="line">    size();</div>
<div class="line">}</div>
<div class="ttc" id="aclassTitlePanel_html"><div class="ttname"><a href="classTitlePanel.html">TitlePanel</a></div><div class="ttdoc">The title panel.</div><div class="ttdef"><b>Definition:</b> TitlePanel.hpp:16</div></div>
</div><!-- fragment --><p >make sure the size() method is called at the end of the constructor. The size() method will set the the sizer of the Panel.</p>
<h3><a class="anchor" id="autotoc_md155"></a>
Add method to PanelFactory</h3>
<p >In this step, you need to modify the <a class="el" href="classPanelFactory.html" title="Factory for creating panels.">PanelFactory</a> class. Following example can be used:</p>
<div class="fragment"><div class="line">wxPanel *createPanel(wxWindow *parent, PanelID panelID) {</div>
<div class="line">    <span class="comment">// ... other if case</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (panelID == PANEL_MY_PANEL) {</div>
<div class="line">        <span class="keywordflow">return</span> createMyPanel(parent);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">MyPanel *createMyPanel(wxWindow *parent) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> MyPanel(parent, wxID_ANY, controllerFactory-&gt;createMyController());</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md156"></a>
Define object in MainFrame</h2>
<p >The last step is to define the Panel in the MainFrame class. Following example can be used:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MainFrame : <span class="keyword">public</span> wxFrame {</div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line">    MyPanel *myPanel;</div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line">MainFrame::MainFrame() : wxFrame(NULL, wxID_ANY, Data::AppName) {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... other registerPanel</span></div>
<div class="line">    registerPanel(PANEL_MY_PANEL);</div>
<div class="line"> </div>
<div class="line">    showFirstPanel();</div>
<div class="line">}</div>
</div><!-- fragment --><p >Now you have successfully added a new Panel to the application.</p>
<h1><a class="anchor" id="autotoc_md157"></a>
Custom Event</h1>
<p >Events are used as a response mechanism for the View component. There are two types of events in this application:</p><ul>
<li>DataEvent</li>
<li>EmptyEvent</li>
</ul>
<h2><a class="anchor" id="autotoc_md158"></a>
DataEvent</h2>
<p >DataEvent is an event that contains data. The data can be any type of data. To create a new DataEvent, you need to create a new class that extends the wxCommandEvent class. Following example will provide a simple example of a DataEvent class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>CustomEvent;</div>
<div class="line">wxDECLARE_EVENT(c_CUSTOM_EVENT, CustomEvent);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> CUSTOM_EVENT_TYPE {</div>
<div class="line">    CUSTOM_EVENT_TYPE_1 = 1,</div>
<div class="line">    CUSTOM_EVENT_TYPE_2,</div>
<div class="line">    CUSTOM_EVENT_TYPE_3,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>CustomEvent : <span class="keyword">public</span> wxCommandEvent {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    CustomEvent(wxEventType type, <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 1);</div>
<div class="line"> </div>
<div class="line">    CustomEvent(<span class="keyword">const</span> CustomEvent &amp;event);</div>
<div class="line">    <span class="keyword">virtual</span> wxEvent *Clone() <span class="keyword">const override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Define set and get method for the data here</span></div>
<div class="line">    <span class="keywordtype">void</span> setData(<span class="keyword">const</span> std::string &amp;data);</div>
<div class="line">    std::string getData() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    std::string data;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// this part is important</span></div>
<div class="line"><span class="keyword">typedef</span> void (wxEvtHandler::*CustomFunction)(CustomEvent &amp;);</div>
<div class="line"><span class="preprocessor">#define CustomHandler(func)                                             \</span></div>
<div class="line"><span class="preprocessor">    wxEVENT_HANDLER_CAST(CustomFunction, func)</span></div>
<div class="line"><span class="preprocessor">#define EVT_CUSTOM(id, func)                                           \</span></div>
<div class="line"><span class="preprocessor">    wx__DECLARE_EVT1(c_CUSTOM_EVENT, id, CustomHandler(func))</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line">wxDEFINE_EVENT(c_CUSTOM_EVENT, CustomEvent);</div>
<div class="line"> </div>
<div class="line">CustomEvent::CustomEvent(wxEventType type, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line">    : wxCommandEvent(type, id) {</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">CustomEvent::CustomEvent(<span class="keyword">const</span> CustomEvent &amp;event)</div>
<div class="line">    : wxCommandEvent(event) {</div>
<div class="line">    this-&gt;setData(event.getData());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">wxEvent *UpdatePreviewEvent::Clone()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> CustomEvent(*<span class="keyword">this</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CustomEvent::setData(<span class="keyword">const</span> std::string &amp;data) {</div>
<div class="line">    this-&gt;data = data;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">std::string CustomEvent::getData()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
</div><!-- fragment --><p >Following class can be refer as example:</p><ul>
<li>UpdatePreviewEvent</li>
<li>UpdateStateEvent</li>
<li>ErrorEvent</li>
</ul>
<h2><a class="anchor" id="autotoc_md159"></a>
EmptyEvent</h2>
<p >EmptyEvent is an event that does not contain any data. It is normally used to signal the View component to perform certain action. To create a new EmptyEvent, you need to create a new class that extends the wxCommandEvent class. Following example will provide a simple example of a EmptyEvent class:</p>
<div class="fragment"><div class="line">wxDECLARE_EVENT(c_CUSTOM_EVENT, wxCommandEvent);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> CUSTOM_EVENT_TYPE {</div>
<div class="line">    CUSTOM_EVENT_TYPE_1 = 1,</div>
<div class="line">    CUSTOM_EVENT_TYPE_2,</div>
<div class="line">    CUSTOM_EVENT_TYPE_3,</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line">wxDEFINE_EVENT(c_CUSTOM_EVENT, wxCommandEvent);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md160"></a>
Bind Event</h2>
<p >To bind an event to a method, you need to use the following syntax in the Panel class:</p>
<div class="fragment"><div class="line">BEGIN_EVENT_TABLE(<a class="code hl_class" href="classBasePanel.html">BasePanel</a>, wxPanel)</div>
<div class="line">    <span class="comment">// ... other event</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// For EmptyEvent</span></div>
<div class="line">    EVT_COMMAND(wxID_ANY, c_CUSTOM_EVENT, BasePanel::OnCustomEvent)</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// For DataEvent</span></div>
<div class="line">    EVT_CUSTOM(c_CUSTOM_EVENT, BasePanel::OnCustomEvent)</div>
<div class="line">END_EVENT_TABLE()</div>
<div class="ttc" id="aclassBasePanel_html"><div class="ttname"><a href="classBasePanel.html">BasePanel</a></div><div class="ttdoc">Base class for all panels.</div><div class="ttdef"><b>Definition:</b> BasePanel.hpp:37</div></div>
</div><!-- fragment --><p> Make sure the function to handle the event is implemented.</p>
<h2><a class="anchor" id="autotoc_md161"></a>
Submit Event</h2>
<p >To submit an event, you need to use the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">// For EmptyEvent</span></div>
<div class="line">wxCommandEvent event(c_CUSTOM_EVENT, CUSTOM_EVENT_TYPE_1);</div>
<div class="line">wxPostEvent(<span class="keyword">this</span>, event);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// For DataEvent</span></div>
<div class="line">CustomEvent event(c_CUSTOM_EVENT, CUSTOM_EVENT_TYPE_1);</div>
<div class="line"><span class="keyword">event</span>.setData(<span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line">wxPostEvent(<span class="keyword">this</span>, event);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md162"></a>
Thread</h1>
<p >Thread is used to perform a long running task.</p>
<h2><a class="anchor" id="autotoc_md163"></a>
Define unique ThreadID</h2>
<p >To define a unique ThreadID, you need to modify the ThreadID enum in the include/Thread/Thread_ID.hpp file. Following example will provide a simple example of a ThreadID enum:</p>
<div class="fragment"><div class="line"><span class="keyword">enum</span> ThreadID {</div>
<div class="line">    <span class="comment">// ... other enum</span></div>
<div class="line">    THREAD_MY_THREAD, <span class="comment">// Add new ThreadID enum here</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md164"></a>
Create a new Thread class</h2>
<p >Now you need to create a new class that extends the <a class="el" href="classBaseThread.html" title="Base class for all Threads for ThreadController.">BaseThread</a> class. Following example will provide a simple example of a Thread class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>CustomThread : <span class="keyword">public</span> <a class="code hl_class" href="classBaseThread.html">BaseThread</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    CustomThread(wxEvtHandler *parent, DataPtr data);</div>
<div class="line">    ~CustomThread();</div>
<div class="line"> </div>
<div class="line">    ThreadID <a class="code hl_function" href="classBaseThread.html#a46ca5bd6f1fd4c19945a9c89b45313cd">getID</a>() <span class="keyword">const override</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ExitCode Entry() <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line">    <span class="keyword">const</span> ThreadID thread_id = ThreadID::THREAD_MY_THREAD; <span class="comment">// Add new ThreadID enum here</span></div>
<div class="line">};</div>
<div class="ttc" id="aclassBaseThread_html"><div class="ttname"><a href="classBaseThread.html">BaseThread</a></div><div class="ttdoc">Base class for all Threads for ThreadController.</div><div class="ttdef"><b>Definition:</b> Thread_Base.hpp:21</div></div>
<div class="ttc" id="aclassBaseThread_html_a46ca5bd6f1fd4c19945a9c89b45313cd"><div class="ttname"><a href="classBaseThread.html#a46ca5bd6f1fd4c19945a9c89b45313cd">BaseThread::getID</a></div><div class="ttdeci">virtual ThreadID getID() const =0</div><div class="ttdoc">Get the ThreadID.</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">CustomThread::CustomThread(wxEvtHandler *parent, DataPtr data)</div>
<div class="line">    : <a class="code hl_class" href="classBaseThread.html">BaseThread</a>(parent, data) {</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">CustomThread::~CustomThread() {</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">ThreadID CustomThread::getID()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> thread_id;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">wxThread::ExitCode CustomThread::Entry() {</div>
<div class="line">    <span class="comment">// ... other code, do process</span></div>
<div class="line">    <span class="keywordflow">return</span> (wxThread::ExitCode)0;</div>
<div class="line">}</div>
</div><!-- fragment --><p >Additionally following classes can be inherited to add more functionality:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Class   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="classPreviewableThread.html" title="Helper Class for BaseThread.">PreviewableThread</a>   </td><td class="markdownTableBodyNone">Enable the thread to send image to ImagePanel    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="classImageSizeDataThread.html" title="Helper Class for BaseThread.">ImageSizeDataThread</a>   </td><td class="markdownTableBodyNone">Add variable imageSize, which is the size of the captured image    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ImageDataThread   </td><td class="markdownTableBodyNone">Add variable image, which is the camera    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="classCameraAccessor.html" title="Class to enable access to Camera.">CameraAccessor</a>   </td><td class="markdownTableBodyNone">Enable camera access   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md165"></a>
Add method to ThreadController</h2>
<p >In this step, you need to modify the <a class="el" href="classThreadController.html" title="Class that manages the starting and stopping of the threads.">ThreadController</a> class. Following example can be used:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="classThreadController.html">ThreadController</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_function" href="classThreadController.html#a0e1e39da1d42b06816d0d1fb1f2bcf0f">ThreadController</a>(wxEvtHandler *parent, DataPtr data);</div>
<div class="line">    <a class="code hl_function" href="classThreadController.html#aef060baf2f5683ca55a0d25c4c49532c">~ThreadController</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> startCustomThread(wxEvtHandler *parent, PanelID panelID);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> endCustomThread();</div>
<div class="line"> </div>
<div class="line">    CustomThread *getCustomThread();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ... other variables </span></div>
<div class="line">    CustomThread *custom_thread;</div>
<div class="line">};</div>
<div class="ttc" id="aclassThreadController_html"><div class="ttname"><a href="classThreadController.html">ThreadController</a></div><div class="ttdoc">Class that manages the starting and stopping of the threads.</div><div class="ttdef"><b>Definition:</b> Thread_Controller.hpp:33</div></div>
<div class="ttc" id="aclassThreadController_html_a0e1e39da1d42b06816d0d1fb1f2bcf0f"><div class="ttname"><a href="classThreadController.html#a0e1e39da1d42b06816d0d1fb1f2bcf0f">ThreadController::ThreadController</a></div><div class="ttdeci">ThreadController()</div><div class="ttdoc">Construct a new Thread Controller:: Thread Controller object.</div><div class="ttdef"><b>Definition:</b> Thread_Controller.cpp:7</div></div>
<div class="ttc" id="aclassThreadController_html_aef060baf2f5683ca55a0d25c4c49532c"><div class="ttname"><a href="classThreadController.html#aef060baf2f5683ca55a0d25c4c49532c">ThreadController::~ThreadController</a></div><div class="ttdeci">~ThreadController()</div><div class="ttdoc">Destroy the Thread Controller:: Thread Controller object.</div><div class="ttdef"><b>Definition:</b> Thread_Controller.cpp:13</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md166"></a>
Task for ThreadPool</h1>
<p ><a class="el" href="classThreadPool.html" title="Class Implementation for Background Thread Pool.">ThreadPool</a> enables parallel processing, which can be used to speed up the application. To add a new <a class="el" href="classTask.html" title="Interface Class for TaskPool Task.">Task</a> to the <a class="el" href="classThreadPool.html" title="Class Implementation for Background Thread Pool.">ThreadPool</a>, following steps are required:</p>
<h2><a class="anchor" id="autotoc_md167"></a>
Define unique TaskType</h2>
<p >To define a unique TaskType, you need to modify the TaskType enum in the <a class="el" href="Task_8hpp.html" title="Interface for TaskPool Task.">include/Thread/Task/Task.hpp</a> file. Following example will provide a simple example of a TaskType enum:</p>
<div class="fragment"><div class="line"><span class="keyword">enum</span> <a class="code hl_enumeration" href="Task_8hpp.html#a026844c14ab62f42a2e19b54d622609b">TaskType</a> {</div>
<div class="line">    <span class="comment">// ... other enum</span></div>
<div class="line">    TASK_MY_TASK, <span class="comment">// Add new TaskType enum here</span></div>
<div class="line">};</div>
<div class="ttc" id="aTask_8hpp_html_a026844c14ab62f42a2e19b54d622609b"><div class="ttname"><a href="Task_8hpp.html#a026844c14ab62f42a2e19b54d622609b">TaskType</a></div><div class="ttdeci">TaskType</div><div class="ttdoc">Enum for TaskType.</div><div class="ttdef"><b>Definition:</b> Task.hpp:32</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md168"></a>
Create a new Task class</h2>
<p >Now you need to create a new class that extends the <a class="el" href="classTask.html" title="Interface Class for TaskPool Task.">Task</a> class. Following example will provide a simple example of a <a class="el" href="classTask.html" title="Interface Class for TaskPool Task.">Task</a> class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>CustomTask : <span class="keyword">public</span> <a class="code hl_class" href="classTask.html">Task</a> {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    CustomTask(wxEvtHandler *parent, DataPtr data);</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classTask.html#a9a3a783ca463dab7e615ded0bd5d07e2">Execute</a>() <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">// ... other methods</span></div>
<div class="line">    <span class="keyword">const</span> std::string currentName = <span class="stringliteral">&quot;CustomTask&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_enumeration" href="Task_8hpp.html#a026844c14ab62f42a2e19b54d622609b">TaskType</a> currentType = TaskType::TASK_MY_TASK; <span class="comment">// Add new TaskType enum here</span></div>
<div class="line">};</div>
<div class="ttc" id="aclassTask_html"><div class="ttname"><a href="classTask.html">Task</a></div><div class="ttdoc">Interface Class for TaskPool Task.</div><div class="ttdef"><b>Definition:</b> Task.hpp:95</div></div>
<div class="ttc" id="aclassTask_html_a9a3a783ca463dab7e615ded0bd5d07e2"><div class="ttname"><a href="classTask.html#a9a3a783ca463dab7e615ded0bd5d07e2">Task::Execute</a></div><div class="ttdeci">virtual void Execute()=0</div><div class="ttdoc">Execute the Task.</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">CustomTask::CustomTask(wxEvtHandler *parent, DataPtr data)</div>
<div class="line">    : <a class="code hl_class" href="classTask.html">Task</a>(parent, data) {</div>
<div class="line">    <span class="keyword">property</span> = <a class="code hl_struct" href="structTaskProperty.html">TaskProperty</a>(currentType);</div>
<div class="line">    name = currentName;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> CustomTask::Execute() {</div>
<div class="line">    <span class="comment">// ... other code, do process</span></div>
<div class="line">}</div>
<div class="ttc" id="astructTaskProperty_html"><div class="ttname"><a href="structTaskProperty.html">TaskProperty</a></div><div class="ttdoc">Struct for TaskProperty.</div><div class="ttdef"><b>Definition:</b> Task.hpp:60</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
