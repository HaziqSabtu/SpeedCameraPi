<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpeedCameraPi: Using the App</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Speed.ico"/></td>
  <td id="projectalign">
   <div id="projectname">SpeedCameraPi<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_Docs_markdown_UsingTheApp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Using the App </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md12"></a>
Setting up the Config file</h1>
<p>During the first run of the app, a config file will be created in the root directory, e.g. <code>/home/{user}/</code>. This file will be called <code>config.ini</code>. This file contains all the settings for the app. You can edit this file to change the settings.</p>
<p>Currently the variables can only be set in the config file. In the future, there will be a GUI to change these settings.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Configuration Variables</h2>
<h3><a class="anchor" id="autotoc_md14"></a>
Camera Panel</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Thread_Pool_Size</code>   </td><td class="markdownTableBodyNone">Number of Thread pool to be used to process the images   </td><td class="markdownTableBodyNone"><code>2</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md15"></a>
Camera Parameter</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Camera_ID</code>   </td><td class="markdownTableBodyNone">ID of the camera to be used   </td><td class="markdownTableBodyNone"><code>0</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Camera_Width</code>   </td><td class="markdownTableBodyNone">Width of the camera image <br  />
 currently only <code>1280</code> are supported   </td><td class="markdownTableBodyNone"><code>1280</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Camera_Height</code>   </td><td class="markdownTableBodyNone">Height of the camera image <br  />
 currently only <code>960</code> are supported   </td><td class="markdownTableBodyNone"><code>960</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Camera_FPS</code>   </td><td class="markdownTableBodyNone">FPS of the camera image   </td><td class="markdownTableBodyNone"><code>10</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md16"></a>
Sensor Parameter</h3>
<p>Followings are the variables for the sensor. The default values are for the Raspberry Pi Camera Module V2.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Sensor_Width</code>   </td><td class="markdownTableBodyNone">Width of the sensor image (mm)   </td><td class="markdownTableBodyNone"><code>3.68</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Sensor_Focal_Length</code>   </td><td class="markdownTableBodyNone">Focal length of the sensor (mm)   </td><td class="markdownTableBodyNone"><code>3.04</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Object_Width</code>   </td><td class="markdownTableBodyNone">Width of the object in Real World (mm) <br  />
 e.g. Road (3500 mm)   </td><td class="markdownTableBodyNone"><code>360</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md17"></a>
Capture Parameter</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Max_Frame_Count</code>   </td><td class="markdownTableBodyNone">Maximum number of frames to be captured   </td><td class="markdownTableBodyNone"><code>10</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Debug</code>   </td><td class="markdownTableBodyNone">Debug mode <br  />
 when set to <code>True</code> a bin file containing the images captured will be saved in the same directory as the app   </td><td class="markdownTableBodyNone"><code>False</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md18"></a>
Load Parameter</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Load_File_Name</code>   </td><td class="markdownTableBodyNone">Name of the file to be loaded <br  />
 currently only .bin and .h264 file are supported   </td><td class="markdownTableBodyNone"><code>default</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Load_Dir_Location</code>   </td><td class="markdownTableBodyNone">Directory location of the file to be loaded   </td><td class="markdownTableBodyNone"><code>default</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Max_Frame</code>   </td><td class="markdownTableBodyNone">Maximum number of frames to be loaded   </td><td class="markdownTableBodyNone"><code>10</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md19"></a>
Line Selection Parameter</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Radius</code>   </td><td class="markdownTableBodyNone">Radius of the circle to be used to select the line <br  />
 for debugging purpose   </td><td class="markdownTableBodyNone"><code>10</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md20"></a>
Canny_Parameter</h3>
<p>Followings are the variables for the Canny Edge Detection. See <a href="https://docs.opencv.org/4.x/dd/d1a/group__imgproc__feature.html#ga04723e007ed888ddf11d9ba04e2232de">OpenCV Canny</a> or <a href="https://docs.opencv.org/4.x/da/d22/tutorial_py_canny.html">Example</a> for more information.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Threshold1</code>   </td><td class="markdownTableBodyNone">Lower threshold for the hysteresis procedure   </td><td class="markdownTableBodyNone"><code>50.0</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Threshold2</code>   </td><td class="markdownTableBodyNone">Upper threshold for the hysteresis procedure   </td><td class="markdownTableBodyNone"><code>150.0</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ApertureSize</code>   </td><td class="markdownTableBodyNone">Aperture size for the Sobel() operator   </td><td class="markdownTableBodyNone"><code>3</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>L2Gradient</code>   </td><td class="markdownTableBodyNone">A flag, indicating whether a more accurate <code>L_2</code> norm <br  />
 should be used to calculate the image gradient magnitude   </td><td class="markdownTableBodyNone"><code>0</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md21"></a>
Hough Parameter</h3>
<p>Followings are the variables for the Hough Line Transform. See <a href="https://docs.opencv.org/3.4/dd/d1a/group__imgproc__feature.html#ga8618180a5948286384e3b7ca02f6feeb">OpenCV Hough</a> or <a href="https://docs.opencv.org/3.4/d9/db0/tutorial_hough_lines.html">Example</a> for more information.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Rho</code>   </td><td class="markdownTableBodyNone">Distance resolution of the accumulator in pixels   </td><td class="markdownTableBodyNone"><code>1</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Theta</code>   </td><td class="markdownTableBodyNone">Angle resolution of the accumulator in radians   </td><td class="markdownTableBodyNone"><code>pi / 180</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Threshold</code>   </td><td class="markdownTableBodyNone">Accumulator threshold parameter <br  />
 Lines with less than <code>Threshold</code> votes are rejected   </td><td class="markdownTableBodyNone"><code>50</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>MinLineLength</code>   </td><td class="markdownTableBodyNone">Minimum line length. Line segments shorter than that are rejected   </td><td class="markdownTableBodyNone"><code>25</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>MaxLineGap</code>   </td><td class="markdownTableBodyNone">Maximum allowed gap between points on the same line to link them   </td><td class="markdownTableBodyNone"><code>10</code>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md22"></a>
Optical Flow Parameter</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Variable   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Default    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Max_Corners</code>   </td><td class="markdownTableBodyNone">Maximum number of corners to be detected   </td><td class="markdownTableBodyNone"><code>1000</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Quality_Level</code>   </td><td class="markdownTableBodyNone">Minimum quality level for corner detection   </td><td class="markdownTableBodyNone"><code>0.05</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Min_Distance</code>   </td><td class="markdownTableBodyNone">Minimum Euclidean distance between corners   </td><td class="markdownTableBodyNone"><code>7</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Block_Size</code>   </td><td class="markdownTableBodyNone">Size of the averaging block for corner detection   </td><td class="markdownTableBodyNone"><code>7</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Use_Harris_Detector</code>   </td><td class="markdownTableBodyNone">Flag to use Harris detector   </td><td class="markdownTableBodyNone"><code>False</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>K</code>   </td><td class="markdownTableBodyNone">Free parameter of the Harris detector   </td><td class="markdownTableBodyNone"><code>0.04</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Min_Point_Distance</code>   </td><td class="markdownTableBodyNone">?   </td><td class="markdownTableBodyNone"><code>0.2</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Threshold</code>   </td><td class="markdownTableBodyNone">Value to be used to filter out the points <br  />
 adjust this values if the object detection results are inaccurate   </td><td class="markdownTableBodyNone"><code>2.0</code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md23"></a>
Using the App</h1>
<pre class="fragment">The application is currently in development. Proper error handling and
documentation will be added in the future. The application is also expected to
crash at random times. Will be fixed in the future.
</pre><p> The app is divided into 3 main parts.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Part   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Capture Panel   </td><td class="markdownTableBodyNone">This part is used to capture the images from the camera    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Processing Panel   </td><td class="markdownTableBodyNone">This part is used to process the images captured from the camera. Line Selection is also done here.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Result Panel   </td><td class="markdownTableBodyNone">This part is used to display the processed images.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md24"></a>
Capture Panel</h2>
<div class="image">
<img src="button1.jpg" alt=""/>
<div class="caption">
Camera Panel</div></div>
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Button   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Start capturing the images from the camera.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Load the images from the file. <br  />
 the filepath needs to be specified in the config file.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">Toggle camera preview. <br  />
 Note: will be removed in the future   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md25"></a>
Processing Panel</h2>
<div class="image">
<img src="button2.jpg" alt=""/>
<div class="caption">
Processing Panel</div></div>
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Button   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Next image    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Previous image    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">Toggle Canny Image to be displayed <br  />
 for debugging purpose    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Toggle detected line to be displayed <br  />
 for debugging purpose    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Clear selected line    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Reset   </td></tr>
</table>
<p>Detected Lines will be displayed in the Result Panel in red. </p><pre class="fragment">Note: In some cases, the app will crash when the line is selected. This is due
to some of the variables not being initialized properly. Will be fixed in the
future. For now, just relaunch the app.

Note: In some cases, the detected lines will not be displayed properly. Relaunch the app to fix this. Will be fixed in the future.
</pre> <h2><a class="anchor" id="autotoc_md26"></a>
Result Panel</h2>
<div class="image">
<img src="button3.jpg" alt=""/>
<div class="caption">
Result Panel</div></div>
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Button   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Replay the result    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Toggle Bounding Box to be displayed    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">Toggle Line used for calculation to be displayed <br  />
 for debugging purpose    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Toggle Optical Flow to be displayed <br  />
 for debugging purpose    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Toggle selected lines to be displayed <br  />
 for debugging purpose    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Return to Process Panel to reselect line    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">Reset   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
