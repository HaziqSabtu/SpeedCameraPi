<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpeedCameraPi: Image Allignment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Speed.ico"/></td>
  <td id="projectalign">
   <div id="projectname">SpeedCameraPi<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__docs_markdown__image_allignment.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Image Allignment </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md12"></a>
Introduction</h1>
<p>Due to various factors, recording a video with a portable handheld device can be challenging. One of the most significant difficulties is keeping the device stable while recording. The device's handheld nature makes it susceptible to movement and shakiness, which can cause a non-static video that significantly affects the accuracy of the calculated results. This section will discuss overcoming this problem by utilizing a feature detection algorithm.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Scale Invariant Feature Transform (SIFT)</h1>
<p>Many image processing and computer vision algorithms require feature detection in input data, such as object tracking and recognition. Researchers have proposed several algorithms for feature detection, including the Harris corner detector <a class="el" href="citelist.html#CITEREF_harris1988">[10]</a>, the SIFT algorithm <a class="el" href="citelist.html#CITEREF_lowe2004">[16]</a>, and the SURF algorithm <a class="el" href="citelist.html#CITEREF_bay2006">[1]</a>. One significant advantage of Lowe's approach is its ability to detect and describe local features in images insensitive to scale, rotation, and illumination changes. <a class="el" href="citelist.html#CITEREF_lowe2004">[16]</a>.</p>
<div class="image">
<img src="sift1.png" alt=""/>
<div class="caption">
Example of SIFT Algorithm</div></div>
 <p>By applying a Difference of Gaussian (DoG) filter to the image at various scales, the SIFT algorithm achieves keypoint localization and generates a scale space representation. Keypoints detection involves identifying local extrema in the scale space, then generating feature descriptors for each key point to facilitate matching and recognition <a class="el" href="citelist.html#CITEREF_cordes09">[4]</a>.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Feature Matching</h1>
<p>Feature matching involves comparing the feature descriptors of the keypoints from the two frames to match the generated keypoints with the keypoints from the next frame. The Fast Library for Approximate Nearest Neighbors (FLANN) is used in this case for comparing feature descriptors that work by comparing the similarity of the generated keypoints and return the best possible match <a class="el" href="citelist.html#CITEREF_geo23">[8]</a>.</p>
<p>To further improve the accuracy of the FLANN matcher, Lowe proposed a ratio test to eliminate false matches <a class="el" href="citelist.html#CITEREF_lowe2004">[16]</a>. It works by comparing the distance of the best match with the distance of the second-best match, and if the ratio of the distance of the best match to the second-best match is less than a threshold value, the best match is considered to be a good match and is used for further processing <a class="el" href="citelist.html#CITEREF_Bekele13">[2]</a>.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Homography</h1>
<p><a class="el" href="class_homography.html" title="Helper class for Homography based on the result from Feature Detection.">Homography</a> is a crucial concept in computer vision and is commonly used in perspective transformations <a class="el" href="citelist.html#CITEREF_Ondraovi21">[19]</a> and object detection <a class="el" href="citelist.html#CITEREF_Hudaya21">[12]</a>. One can use homography in SIFT detection to transform the detected features in one image into the coordinate system of another image, thereby fixing the perspective distortion and aligning the images.</p>
<div class="image">
<img src="homography1.jpg" alt=""/>
<div class="caption">
Example of Homography result \cite cvHomography</div></div>
 <p>As proposed by Vincent and Lagani\'ere, to compute the homography matrix, at least four corresponding points are needed, which can be obtained by the RANSAC algorithm <a class="el" href="citelist.html#CITEREF_Vin01">[25]</a>. RANSAC algorithm is an iterative approach that randomly selects a subset of the data and fits a model to the subset <a class="el" href="citelist.html#CITEREF_Lee20">[14]</a>. One can fix the perspective distortion of the image and align the images using the computed homography matrix.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Image Alignment Algorithm</h1>
<div class="image">
<img src="ImageAllignmentAlgoDiagram.jpg" alt=""/>
<div class="caption">
Image Alignment Algorithm</div></div>
 <p>The algorithm starts by reading the selecting two frames from the video and detecting the keypoints using SIFT algorithm. The keypoints are then matched with the keypoints from the next frame using the FLANN matcher. The matched keypoints are utilized to compute the homography matrix using the RANSAC algorithm. The resulting homography matrix is then applied to transform the keypoints from the next frame into the coordinate system of the first frame. This process is repeated for all frames in the video.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Useful links</h1>
<p><a class="el" href="class_feature_detector.html#aa2c68b01a5d9f549f98a57a1deff7848" title="Runs the feature detection and matching algorithm on two input images.">FeatureDetector::allign()</a></p>
<p><a href="https://docs.opencv.org/3.4/d1/de0/tutorial_py_feature_homography.html">OpenCV Example</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
