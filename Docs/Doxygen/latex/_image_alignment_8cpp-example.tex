\hypertarget{_image_alignment_8cpp-example}{}\doxysection{Image\+Alignment.\+cpp}
Example of how to use \mbox{\hyperlink{class_feature_detector}{Feature\+Detector}} class.

Example of how to use \mbox{\hyperlink{class_feature_detector}{Feature\+Detector}} class


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_feature_detector_8hpp}{Algorithm/image\_allign/FeatureDetector.hpp}}>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <opencv2/opencv.hpp>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ File\ path}}
\DoxyCodeLine{std::string\ data\_path\ =\ \textcolor{stringliteral}{"{}../../../data/"{}};}
\DoxyCodeLine{std::string\ vid\_path\ =\ data\_path\ +\ \textcolor{stringliteral}{"{}align1.MOV"{}};}
\DoxyCodeLine{\textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Create\ FeatureDetector\ object}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_feature_detector}{FeatureDetector}}\ detector;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Open\ the\ video\ file}}
\DoxyCodeLine{\ \ \ \ cv::VideoCapture\ cap(vid\_path);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!cap.isOpened())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Error\ opening\ video\ stream\ or\ file"{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Read\ the\ first\ frame}}
\DoxyCodeLine{\ \ \ \ cv::Mat\ firstFrame;}
\DoxyCodeLine{\ \ \ \ cap\ >>\ firstFrame;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (1)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cv::Mat\ frame;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cap\ >>\ frame;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ frame\ is\ empty,\ break\ immediately}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (frame.empty())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Run\ the\ feature\ detection\ and\ matching\ algorithm}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ detector.\mbox{\hyperlink{class_feature_detector_aa2c68b01a5d9f549f98a57a1deff7848}{allign}}(firstFrame,\ frame);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ and\ display\ the\ alligned\ image}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cv::Mat\ res\ =\ detector.\mbox{\hyperlink{class_feature_detector_a0af12773fc5005cb4f4f8e02f1ab3191}{GetAllignedImage}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cv::imshow(\textcolor{stringliteral}{"{}Frame"{}},\ res);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Press\ \ ESC\ on\ keyboard\ to\ exit}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c\ =\ (char)cv::waitKey(25);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (c\ ==\ 27)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ cap.release();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 