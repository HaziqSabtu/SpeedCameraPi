\hypertarget{class_speed_calculation}{}\doxysection{Speed\+Calculation Class Reference}
\label{class_speed_calculation}\index{SpeedCalculation@{SpeedCalculation}}


Class for Calculating Speed of Object from Image using Optical Flow.  




{\ttfamily \#include $<$speed\+Calculation.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_speed_calculation_a9b7513645932aa5487a9e50689a5d43c}{Speed\+Calculation}} (const double sensor\+Width, const double sensor\+Focal\+Length, const double object\+Width)
\begin{DoxyCompactList}\small\item\em Construct a new Speed Calculation\+:\+: Speed Calculation object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_speed_calculation_a2205156f47e9a84c881b588b42609dc2}{run\+Calculation}} (std\+::vector$<$ \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} $>$ speed\+Data)
\begin{DoxyCompactList}\small\item\em Run Speed Calculation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_speed_calculation_a5f2821a023b9d8e266492c1d1152297f}{run\+Calculation}} (std\+::vector$<$ \mbox{\hyperlink{struct_image_data}{Image\+Data}} $>$ $\ast$img\+Data, std\+::vector$<$ \mbox{\hyperlink{struct_detection_1_1_line}{Detection\+::\+Line}} $>$ \&lines)
\begin{DoxyCompactList}\small\item\em Run Speed Calculation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_speed_calculation_ac1a834eae4ac5b3b352bc465838f4224}{Set\+Image\+Width}} (int w)
\begin{DoxyCompactList}\small\item\em Set the Image Width to be used for calculation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_speed_calculation_aadfb7c8b7c2f8bda44f2afb281367a9c}{Set\+Line}} (std\+::vector$<$ cv\+::\+Vec4i $>$ l)
\begin{DoxyCompactList}\small\item\em Set the Selected Line to be used for calculation. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_speed_calculation_adc2a25f0e29d771c01b3a56fc4df7cbc}{distance\+From\+Camera}} (float pixel\+Width)
\begin{DoxyCompactList}\small\item\em Calculate Object Distance from Camera. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_speed_calculation_aaee3d430c0a97281b0b66c3fbfed28c7}{Get\+Avg\+Speed}} ()
\begin{DoxyCompactList}\small\item\em Get the Average calculated speed. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_speed_calculation_a9ee78afe593e453eb3e078c7edb32c1c}{raw\+Avg\+Speed}} (std\+::vector$<$ double $>$ \&speeds)
\begin{DoxyCompactList}\small\item\em Calculate the average speed from a vector of speeds. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::vector$<$ \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} $>$ \mbox{\hyperlink{class_speed_calculation_a3b7a1358b7b932b5e410058733d69744}{to\+Speed\+Data}} (std\+::vector$<$ \mbox{\hyperlink{struct_image_data}{Image\+Data}} $>$ \&img\+Data, std\+::vector$<$ std\+::vector$<$ cv\+::\+Point2f $>$ $>$ \&points)
\begin{DoxyCompactList}\small\item\em Convert \mbox{\hyperlink{struct_image_data}{Image\+Data}} to \mbox{\hyperlink{struct_speed_data}{Speed\+Data}}. \end{DoxyCompactList}\item 
static cv\+::\+Point2f \mbox{\hyperlink{class_speed_calculation_a30dd58f419d8da5a02f7f221c7e970f0}{intersection}} (float y, cv\+::\+Vec4i b)
\begin{DoxyCompactList}\small\item\em Calculate the intersection point of two lines. \end{DoxyCompactList}\item 
static cv\+::\+Point2f \mbox{\hyperlink{class_speed_calculation_a881e7cf3bc6600dfc70f6f4ad8952f3d}{intersection}} (cv\+::\+Vec4f a, cv\+::\+Vec4f b)
\begin{DoxyCompactList}\small\item\em Calculate the intersection point of two lines. \end{DoxyCompactList}\item 
static double \mbox{\hyperlink{class_speed_calculation_a591b9076a97996a49a579f6074eac9cd}{calc\+Speed}} (double prev\+Dist, double cur\+Dist, std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point prev\+Time, std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point cur\+Time)
\begin{DoxyCompactList}\small\item\em Calculate the speed of the object. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class for Calculating Speed of Object from Image using Optical Flow. 



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_speed_calculation_a9b7513645932aa5487a9e50689a5d43c}\label{class_speed_calculation_a9b7513645932aa5487a9e50689a5d43c}} 
\index{SpeedCalculation@{SpeedCalculation}!SpeedCalculation@{SpeedCalculation}}
\index{SpeedCalculation@{SpeedCalculation}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{SpeedCalculation()}{SpeedCalculation()}}
{\footnotesize\ttfamily Speed\+Calculation\+::\+Speed\+Calculation (\begin{DoxyParamCaption}\item[{const double}]{sensor\+Width,  }\item[{const double}]{sensor\+Focal\+Length,  }\item[{const double}]{object\+Width }\end{DoxyParamCaption})}



Construct a new Speed Calculation\+:\+: Speed Calculation object. 


\begin{DoxyParams}{Parameters}
{\em sensor\+Width} & Width of the sensor in mm \\
\hline
{\em sensor\+Focal\+Length} & Focal Length of the sensor in mm \\
\hline
{\em object\+Width} & Width of the object in mm \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_speed_calculation_a591b9076a97996a49a579f6074eac9cd}\label{class_speed_calculation_a591b9076a97996a49a579f6074eac9cd}} 
\index{SpeedCalculation@{SpeedCalculation}!calcSpeed@{calcSpeed}}
\index{calcSpeed@{calcSpeed}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{calcSpeed()}{calcSpeed()}}
{\footnotesize\ttfamily double Speed\+Calculation\+::calc\+Speed (\begin{DoxyParamCaption}\item[{double}]{prev\+Dist,  }\item[{double}]{cur\+Dist,  }\item[{std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point}]{prev\+Time,  }\item[{std\+::chrono\+::high\+\_\+resolution\+\_\+clock\+::time\+\_\+point}]{cur\+Time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculate the speed of the object. 


\begin{DoxyParams}{Parameters}
{\em prev\+Dist} & previous distance of the object from the camera \\
\hline
{\em cur\+Dist} & current distance of the object from the camera \\
\hline
{\em prev\+Time} & previous time of frame \\
\hline
{\em cur\+Time} & current time of frame \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double speed of the object 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_adc2a25f0e29d771c01b3a56fc4df7cbc}\label{class_speed_calculation_adc2a25f0e29d771c01b3a56fc4df7cbc}} 
\index{SpeedCalculation@{SpeedCalculation}!distanceFromCamera@{distanceFromCamera}}
\index{distanceFromCamera@{distanceFromCamera}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{distanceFromCamera()}{distanceFromCamera()}}
{\footnotesize\ttfamily double Speed\+Calculation\+::distance\+From\+Camera (\begin{DoxyParamCaption}\item[{float}]{pixel\+Width }\end{DoxyParamCaption})}



Calculate Object Distance from Camera. 


\begin{DoxyParams}{Parameters}
{\em pixel\+Width} & Width of the object in pixels \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double Distance of the object from the camera in mm 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_aaee3d430c0a97281b0b66c3fbfed28c7}\label{class_speed_calculation_aaee3d430c0a97281b0b66c3fbfed28c7}} 
\index{SpeedCalculation@{SpeedCalculation}!GetAvgSpeed@{GetAvgSpeed}}
\index{GetAvgSpeed@{GetAvgSpeed}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{GetAvgSpeed()}{GetAvgSpeed()}}
{\footnotesize\ttfamily double Speed\+Calculation\+::\+Get\+Avg\+Speed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the Average calculated speed. 

\begin{DoxyReturn}{Returns}
double average speed 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_a881e7cf3bc6600dfc70f6f4ad8952f3d}\label{class_speed_calculation_a881e7cf3bc6600dfc70f6f4ad8952f3d}} 
\index{SpeedCalculation@{SpeedCalculation}!intersection@{intersection}}
\index{intersection@{intersection}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{intersection()}{intersection()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cv\+::\+Point2f Speed\+Calculation\+::intersection (\begin{DoxyParamCaption}\item[{cv\+::\+Vec4f}]{a,  }\item[{cv\+::\+Vec4f}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculate the intersection point of two lines. 


\begin{DoxyParams}{Parameters}
{\em a} & First line in the form of cv\+::\+Vec4f \\
\hline
{\em b} & Second line in the form of cv\+::\+Vec4f \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
cv\+::\+Point2f Intersection point in the form of cv\+::\+Point2f 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_a30dd58f419d8da5a02f7f221c7e970f0}\label{class_speed_calculation_a30dd58f419d8da5a02f7f221c7e970f0}} 
\index{SpeedCalculation@{SpeedCalculation}!intersection@{intersection}}
\index{intersection@{intersection}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{intersection()}{intersection()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cv\+::\+Point2f Speed\+Calculation\+::intersection (\begin{DoxyParamCaption}\item[{float}]{y,  }\item[{cv\+::\+Vec4i}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Calculate the intersection point of two lines. 

Overloaded method


\begin{DoxyParams}{Parameters}
{\em y} & \\
\hline
{\em b} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
cv\+::\+Point2f 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_a9ee78afe593e453eb3e078c7edb32c1c}\label{class_speed_calculation_a9ee78afe593e453eb3e078c7edb32c1c}} 
\index{SpeedCalculation@{SpeedCalculation}!rawAvgSpeed@{rawAvgSpeed}}
\index{rawAvgSpeed@{rawAvgSpeed}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{rawAvgSpeed()}{rawAvgSpeed()}}
{\footnotesize\ttfamily double Speed\+Calculation\+::raw\+Avg\+Speed (\begin{DoxyParamCaption}\item[{std\+::vector$<$ double $>$ \&}]{speeds }\end{DoxyParamCaption})}



Calculate the average speed from a vector of speeds. 


\begin{DoxyParams}{Parameters}
{\em speeds} & vector of speeds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double average speed 
\end{DoxyReturn}
\mbox{\Hypertarget{class_speed_calculation_a5f2821a023b9d8e266492c1d1152297f}\label{class_speed_calculation_a5f2821a023b9d8e266492c1d1152297f}} 
\index{SpeedCalculation@{SpeedCalculation}!runCalculation@{runCalculation}}
\index{runCalculation@{runCalculation}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{runCalculation()}{runCalculation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Speed\+Calculation\+::run\+Calculation (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{struct_image_data}{Image\+Data}} $>$ $\ast$}]{img\+Data,  }\item[{std\+::vector$<$ \mbox{\hyperlink{struct_detection_1_1_line}{Detection\+::\+Line}} $>$ \&}]{lines }\end{DoxyParamCaption})}



Run Speed Calculation. 

preferred method to use 
\begin{DoxyParams}{Parameters}
{\em img\+Data} & \mbox{\hyperlink{struct_image_data}{Image\+Data}} to be used for calculation \\
\hline
{\em lines} & Selected Lines \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_speed_calculation_a2205156f47e9a84c881b588b42609dc2}\label{class_speed_calculation_a2205156f47e9a84c881b588b42609dc2}} 
\index{SpeedCalculation@{SpeedCalculation}!runCalculation@{runCalculation}}
\index{runCalculation@{runCalculation}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{runCalculation()}{runCalculation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Speed\+Calculation\+::run\+Calculation (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} $>$}]{speed\+Data }\end{DoxyParamCaption})}



Run Speed Calculation. 

this method is not recommended to use. \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} will be removed in the future. Use the other run\+Calculation method instead 
\begin{DoxyParams}{Parameters}
{\em speed\+Data} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_speed_calculation_ac1a834eae4ac5b3b352bc465838f4224}\label{class_speed_calculation_ac1a834eae4ac5b3b352bc465838f4224}} 
\index{SpeedCalculation@{SpeedCalculation}!SetImageWidth@{SetImageWidth}}
\index{SetImageWidth@{SetImageWidth}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{SetImageWidth()}{SetImageWidth()}}
{\footnotesize\ttfamily void Speed\+Calculation\+::\+Set\+Image\+Width (\begin{DoxyParamCaption}\item[{int}]{w }\end{DoxyParamCaption})}



Set the Image Width to be used for calculation. 


\begin{DoxyParams}{Parameters}
{\em w} & width of the image \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_speed_calculation_aadfb7c8b7c2f8bda44f2afb281367a9c}\label{class_speed_calculation_aadfb7c8b7c2f8bda44f2afb281367a9c}} 
\index{SpeedCalculation@{SpeedCalculation}!SetLine@{SetLine}}
\index{SetLine@{SetLine}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{SetLine()}{SetLine()}}
{\footnotesize\ttfamily void Speed\+Calculation\+::\+Set\+Line (\begin{DoxyParamCaption}\item[{std\+::vector$<$ cv\+::\+Vec4i $>$}]{l }\end{DoxyParamCaption})}



Set the Selected Line to be used for calculation. 

This method is not recommended to use. \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} will be removed in the future. The selected Lines should be passed to the run\+Calculation method instead


\begin{DoxyParams}{Parameters}
{\em l} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_speed_calculation_a3b7a1358b7b932b5e410058733d69744}\label{class_speed_calculation_a3b7a1358b7b932b5e410058733d69744}} 
\index{SpeedCalculation@{SpeedCalculation}!toSpeedData@{toSpeedData}}
\index{toSpeedData@{toSpeedData}!SpeedCalculation@{SpeedCalculation}}
\doxysubsubsection{\texorpdfstring{toSpeedData()}{toSpeedData()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} $>$ Speed\+Calculation\+::to\+Speed\+Data (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{struct_image_data}{Image\+Data}} $>$ \&}]{img\+Data,  }\item[{std\+::vector$<$ std\+::vector$<$ cv\+::\+Point2f $>$ $>$ \&}]{points }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Convert \mbox{\hyperlink{struct_image_data}{Image\+Data}} to \mbox{\hyperlink{struct_speed_data}{Speed\+Data}}. 

This method is not recommended to use. \mbox{\hyperlink{struct_speed_data}{Speed\+Data}} will be removed in the future. 
\begin{DoxyParams}{Parameters}
{\em img\+Data} & \mbox{\hyperlink{struct_image_data}{Image\+Data}} to be converted \\
\hline
{\em points} & Points to be used for calculation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::vector$<$\+Speed\+Data$>$ 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+Algorithm/speed\+\_\+calculation/\mbox{\hyperlink{speed_calculation_8hpp}{speed\+Calculation.\+hpp}}\item 
src/\+Algorithm/speed\+\_\+calculation/\mbox{\hyperlink{speed_calculation_8cpp}{speed\+Calculation.\+cpp}}\end{DoxyCompactItemize}
